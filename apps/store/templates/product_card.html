{% load static thumbnail wagtailcore_tags %}

{% comment %}
{% include "streams/product_card.html" %}
product: a Product object to display
{% endcomment %}
<div class="card">
    <div class="card-header p-0 m-0 bg-secondary" style="height: 60px">
        <h5 class="card-title text-center pt-1">{{ product.name }}</h5>
        <p class="card-subtitle text-center">{{ product.supplier }}
            ({{product.quantity_per_unit}}{{ product.unit.short_name }})
        </p>
    </div>
    <div class="card-body p-0 m-0" style="height: 60px">
        <p class="p-0 m-0">{{ product.description|richtext }}</p>
    </div>
    {% thumbnail product.image "600x500" crop="center" as im %}
    <div class="card-body" style="background-image: url('{{im.url}}'); position: relative; padding: 0px; background-repeat: no-repeat; background-size: cover; background-position: center; height: 250px;">
        <div class="justify-content-around d-flex align-items-center" style="position: absolute; height: 60px; width: 100%; bottom: 0px; left: 0px; background-color: rgba(255,255,255,0.2); backdrop-filter: blur(10px);">
            <p class="text-center m-0 text-black d-flex justify-content-around" style="height: 50px; width: 100%">
                <a href="{{ product.get_absolute_url }}" class="btn btn-success rounded-circle align-self-center">
                    <i class="fa fa-bars"></i>
                </a>
                <a onclick="add_to_cart('{{ product.slug }}')" class="btn btn-success rounded-circle align-self-center">
                    <i class="fa fa-shopping-cart" style="margin-left: -3px;"></i>
                </a>
                <a href="#" class="btn btn-success rounded-circle align-self-center">
                    <i class="fa fa-heart" style="margin-top: 5px;"></i>
                </a>
            </p>
        </div>
    </div>
    {% endthumbnail %}
    {% comment %} <div class="justify-content-center" style="height: 50px;>
        <p class="text-center m-0 text-black d-flex justify-content-around" style="height: 50px;">
            <a href="{{ product.get_absolute_url }}" class="btn btn-success rounded-circle align-self-center">
                <i class="fa fa-bars"></i>
            </a>
            <a href="#" class="btn btn-success rounded-circle align-self-center">
                <i class="fa fa-shopping-cart" style="margin-left: -3px;"></i>
            </a>
            <a href="#" class="btn btn-success rounded-circle align-self-center">
                <i class="fa fa-heart" style="margin-top: 5px;"></i>
            </a>
        </p>
    </div>
    <div class="card-content-overlay d-flex justify-content-center" style="height: 50px;">
        <p class="text-center m-0 text-black align-self-center">{{ product.price }}â‚¬/kg</p>
    </div> {% endcomment %}
</div>